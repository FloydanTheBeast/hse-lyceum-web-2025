---
theme: default
title: "UNIX, основы работы в терминале / Курс по веб-разработке, 10 класс"
class: text-center
drawings:
  persist: false
transition: slide-left
mdc: true
fonts:
  sans: Montserrat
hideInToc: true
browserExporter: true
---

# Курс по веб-разработке

<h2 class="color-gray-400 fw-200">UNIX, основы работы в терминале</h2>

---

<style scoped>
  h3 {
    font-weight: 700;
    margin: 12px 0;
    font-size: 18px;
    line-height: 14px;
  }

  p, li {
    font-size: 16px;
    line-height: 1.3rem;
  }
</style>

# UNIX

> **UNIX** - эемейство многозадачных и многопользовательских операционных систем, основными принципами которых ялвяются: простота, модульность и стабильность. Широко используется в серверах.
> Основные представители unix-подобных систем: Linux и macOS

### Ключевые идеи
- Всё в системе является файлолм, включая папки, устройства и процессы
- Множество малых утилиты, каждая из которых хорошо решает одну конкретную задачу
- Возможность комбинировать программы через `|` (pipes, конвейеры)
- Мощная командная строка и shell-скрипты
- Жёсткое разделение прав пользователя и суперпользователя (root)

### Различия с Windows

- **Терминал** является основным инструментом, в Windows - приложения с графическим интерфейсом (GUI) в приоритете
- **Файловая система** представляет собой чувствительную к регистру древовидную структуру и, в отличие от Windows, не делится на диски - все пути начинаются с `/`
- **Права доступа** реализуются простой, но строгой моделью - есть пользователи и группы
- и другие

---

<style scoped>
  h3 {
    font-weight: 700;
    margin: 12px 0;
    font-size: 18px;
    line-height: 14px;
  }
</style>

# WSL

> **WSL (Windows Subsystem for Linux)** - технология от Microsoft для запуска Linux-дистрибутивов прямо в Windows

### Установка

- Откройте PowerShell от имени администратора и выполните:
    ```sh
    # Установка WSL и дистрибутива Ubuntu по умолчанию
    wsl --install
    ```
- В командной строке/PowerShell выполните:
    ```sh
    # Запуск wsl
    wsl
    ```

---

# UNIX

Определения

> **Терминал** - программа, которая предоставляет текстовый интерфейс для взаимодействия с операционной системой. Через него пользователь вводит команды и получает текстовый вывод.

<br />

> **Оболочка (shell)** - Программа, которая интерпретирует команды, введённые пользователем в терминале, и управляет их выполнением. Стандартная оболчка для unix-систем - `bash`, для windows - `PowerShell`

<br />

> **Команда** — это инструкция, которую пользователь передаёт **оболочке (shell)**, чтобы выполнить какое-то действие: вывести список файлов, создать каталог, запустить программу, обработать данные и т.д.
> Состоит из названия команды, опций и аргументов: `команда [опции] [аргументы]`

> **Опции (флаги, flags)** - меняют поведение команд и начинаются с `-` или `--`
>
> **Аргументы** - аналог аргументов функции - то, для чего применится команда

---

# UNIX

Потоки

В UNIX каждый процесс имеет стандартные потоки данных для ввода-вывода, как правило автоматически открывающихся при запуске задачи (какой либо программы, исполняемоего файла):
- **Стандартный ввод (`stdin`)** - канал, по которому процесс получает данные. Обычно это клавиатура, но может быть файл или вывод другой команды
- **Стандартный вывод (`stdout`)** - канал, через который команда передаёт обычный результат своей работы. По умолчанию выводится на экран, но может быть перенаправлен в файл или на вход другой программы
- **Стандартный поток ошибок (`stderr`)** - Отдельный канал для сообщений об ошибках и предупреждений. Помогает отличать ошибки от обычного вывода. Можно перенаправлять отдельно от stdout

---

# Терминал

Навигация по файловой системе

- `pwd` - вывод текущей директории
- `ls`, `ls -l`, `ls -a` - вывод содержимого текущей директории
- `cd <путь>` - переход по указанному пути
    - `cd ..` - переход в родительскую директорию
- `tree` - вывод содержимого текущей директории и всех дочерних в виде дерева

---

# Терминал

Работа с файлами и директориями

- `touch <название-файла>` - создание нового файла
- `mkdir <название-директории>` - создание новой директории
- `cp <источник> <назначение>` - копирование файла
    - `cp -r` - копирование директории
- `mv <источник> <назначение>` - перемещение файла(-ов)
- `rm <файл>` - удаление файла
    - `rm -r` - удаление директории

---

# Терминал

Просмотр и редактирование файлов

- `cat <имя-файла>` - вывод содержимого файла
- `less <имя-файла>` - просмотр содержимого постранично или построчно, чтобы не загружать весь файл сразу
- `head`, `tail` - вывод начала и конца файла соответственно
- `nano <имя-файла>`, `vim <имя-файла>` - открыть файл в редакторе `nano`/`vim`

---

# Терминал

Поиск

- `find <директория> -name "*.js"` - поиск файлов, подходящих под условие
- `grep "<шаблон>" <?имя-файла>` - поиск текста
- `grep -r "<шаблон>" <директория>` — рекурсивный поиск
- `grep -E` — поиск по регулярному выражению

---

# Терминал

Шаблоны поиска

При работе с файлами/директориями также доступны специальные метасимволы (**символы-джокеры, wildcards**) для поиска по шаблону (**globbing**):
- `?` - 1 любой символ
  - `ls test?.txt` - выведет все файлы, подходящие под шаблон
- `*` - любое количество символов
  - `rm *.js` - удалит все файлы с расширением `.js`
- `[]` - символы из множества
  - `cp [a-z123] testdir/`
- `[!]` - символы, не входящие во множество
- `{}` (**Brace expansion**) - расширение списка. Не относится к wildcards, но часто используется вместе с ними
  - `ls *.{html,css,js}` - вывод всех файлов с расширениями `.html`, `.css` или `.js`

---

# Терминал

Процессы

- `ps` - вывод списка процессов
- `top` - отображение отсортированного списка процессов с периодическим обновлением
- `kill <PID>` - отправка сигнала процессу (по умолчанию - `TERM`, то есть сигнал завершения)

<br />

> `PID` - это идентификатор процесса (Process Identifier)

<br />

> **Сигнал** - асинхронное уведомление процесса о каком-либо событии, один из основных способов взаимодействия между процессами. Когда сигнал послан процессу, операционная система прерывает выполнение процесса, при этом, если процесс установил собственный обработчик сигнала, операционная система запускает этот обработчик, передав ему информацию о сигнале, если процесс не установил обработчик, то выполняется обработчик по умолчанию

---

<style scoped>
  li, blockquote p {
    margin-top: 4px;
    font-size: 13px;
    line-height: 1.3rem;
  }
</style>

# Терминал

Пайпы и перенаправление потоков

<div class="grid grid-cols-2 gap-2">

<div>

- **Символ пайп (конвейер, pipe) `|`** - передаёт выход одной команды на вход другой
  ```sh
  # Вывод всех файлов и поиск текста .txt в выводе
  ls -l | grep ".txt"

  # Поиск процессов python и сортировка 
  ps aux | grep python | sort -k 3 -n
  ```
- `>` - перенаправление вывода в файл (перезапись)
  ```sh
  echo "Hello" > out.txt`
  ```
- `>>` - перенаправление вывода в файл (добавление)
  ```sh
  echo ", world!" >> out.txt`
  ```
- `<` - считать ввод из файла
  ```sh
  sort < input.txt
  ```

</div>
<div>

- `2>` - перенаправление потока ошибок
  ```sh
  <command> 2> errors.log
  ```
- `&>` - перенаправление потоков вывода и ошибок
  ```sh
  <command> &> all.log
  ```
- `2>&1` - объединить stderr в stdout
- `2>/dev/null` - игнорировать ошибки
  > `/dev/null` - специальный файл в операционных системах класса UNIX, представляющий собой «пустое устройство»

</div>
</div>

---

# Терминал

Логические операторы и цепочки команд

- `&&` - логическое "или". Выполняет команду, если предыдущая завершилась **успешно**
  ```sh
  true || echo "Успех"
  ```
- `||` - логическое "или". Выполняет команду, если предыдущая завершилась **с ошибкой**
  ```sh
  false || echo "Произошла ошибка"
  ```
- `;` - позволяет выполнить команду вне зависимости от результата предыдущей
  ```sh
  false ; echo "Это сообщение выведется всегда"
  ```

---

<style scoped>
  h3 {
    font-weight: 700;
    margin: 12px 0;
    font-size: 18px;
    line-height: 14px;
  }

  p, li {
    font-size: 16px;
    line-height: 1.3rem;
  }
</style>

# Терминал

Пакетные менеджеры

> **Пакетные менеджеры** - это инструменты для установки, обновления и удаления программ в системе. Они автоматически управляют зависимостями и источниками пакетов

### Инструменты для различных ОС

- **Homebrew** (macOS, Linux)
  ```sh
  brew install <пакет>
  ```
- **APT** (Ubuntu, Debian)
  ```sh
  sudo apt update
  sudo apt install <пакет>
  ```
- **Chocolatey** (Windows)
  ```sh
  choco install <пакет>
  ```

### Для чего нужны
- Установка приложений и библиотек
- Обновление системы
- Управление зависимостями
- Установка CLI-инструментов для разработки

---

<style scoped>
  h3 {
    font-weight: 700;
    margin: 12px 0;
    font-size: 18px;
    line-height: 14px;
  }

  p, li {
    font-size: 16px;
    line-height: 1.3rem;
  }
</style>

# Терминал

Переменные окружения

> **Переменные окружения** — это пары «имя-значение», которые хранят настройки среды и передаются процессам при запуске. Используются оболочкой и программами для настройки поведения

### Пример системных переменных
- `PATH` — список директорий, где ищутся программы
- `HOME` — домашний каталог пользователя
- `USER` — имя текущего пользователя
- `SHELL` — путь к используемой оболочке

```sh
echo $PATH         # вывести значение
export EDITOR=vim  # установить переменную
```

### Где задаются?
- В файлах конфигурации оболочки
- В системных настройках
- В скриптах и при запуске программ
  ```
  VAR=test123; echo $VAR
  ```

---

<style scoped>
  h3 {
    font-weight: 700;
    margin: 12px 0;
    font-size: 18px;
    line-height: 14px;
  }

  p, li {
    font-size: 16px;
    line-height: 1.5rem;
  }
</style>

# Терминал

Конфигурация оболочки

> Файлы конфигурации загружаются при запуске shell и позволяют настроить поведение терминала

- `~/.bashrc` — загрузка при каждом интерактивном запуске bash
- `~/.bash_profile`, `~/.profile` — выполняются при входе в систему (login shell)

<div class="grid grid-cols-2 gap-2">

<div>

### Что можно настроить?
- Алиасы
  ```sh
  alias ll="ls -la"
  ```
- Переменные окружения
  ```sh
  # Установка VSCode редактором по умолчанию
  export EDITOR=code -w
  ```
- Функции
  ```sh
  backup() { cp "$1" "$1.bak"; }
  ```
- Инициализация инструментов
  ```sh
  eval "$(pyenv init -)"
  source ~/.npmrc
  ```

</div>
<div>

### Для чего нужна?
- Автоматизация настроек
- Ускорение работы (алиасы, автозапуски)
- Настройка окружения для языков и инструментов (Python, Node.js, Go)
- Персонализация терминала

</div>
</div>

---

# Терминал

Полезности

- `man <название-команды>` - просмотр подробной документации по команде
  - Также у большинства команд есть флаг `-h` или `--help`, выводящий краткую краткий вариант документации и список доступных опций
- `sudo <команда>` - позволяет запустить команду с повышенными привилегиями (обычно суперпользователя root). **Будьте с ней аккуратны!**
- `alias` - позволяет создавать "ярлыки" для команд, т.е. альтернативные названия
  ```sh
  # Вывод всех алиасов
  alias

  # Создание временного алиаса
  alias docs="cd /Users/<exampleuser>/<mydirectory>/docs"
  ```
  Для того, чтобы сделать его перманентным, нужно добавить команду в конфигурацию оболочки (`~/.bashrc` или др.)

---

<style scoped>
  li {
    font-size: 15px;
    line-height: 1.4rem;
  }
</style>

# Практика

<div class="grid grid-cols-2 gap-2">

<div>

0. (**Для windows**) Установить `WSL`
1. Навигация по файловой системе
    - Перейти в домашний каталог
    - Создать папку `projects`
    - Перейти в неё и создать в ней папку test
    - Вернуться на уровень выше
2. Работа с файлами
    - Создать файл `notes.txt` командой `touch`
    - Записать в него строку `"Hello terminal"` с помощью `echo` и перенаправления
    - Посмотреть содержимое файла (`cat`, `less`)
    - Удалить файл
3. Wildcards
    - В каталоге создать несколько файлов: `file1.txt`, `file2.txt`, `fileA.log`, `fileB.log`
    - Вывести только файлы `.log`
    - Вывести только файлы, начинающиеся на `fileA`
    - Удалить все `.txt` одной командой

</div>
<div>

4. Перенаправления
    - Запустить команду, которая выводит что-то в `stdout` и в `stderr`
    - Перенаправить `stdout` в файл `out.txt`
    - Перенаправить `stderr` в `err.txt`
    - Объединить оба потока в один файл `all.txt`
5. Конвейеры
    - Вывести список процессов и отфильтровать только те, где встречается слово bash
    - Посчитать количество строк в выводе (`wc -l`)
    - Вывести 20 самых больших файлов в текущей директории и отсортировать их по размеру (`sort`)

</div>
</div>

---
src: ./_shared.md#1
---

---

# Дополнительные материалы

- [Habr - Из истории технологий: откуда взялся Unix](https://habr.com/ru/companies/timeweb/articles/839924/)
- [Установка и настройка WSL (Windows Subsystem for Linux) на Windows](https://qwez.vercel.app/posts/wsl-guide)
- [GitHub Gist - Шпаргалка по Linux](https://gist.github.com/s3rgeym/82539bf872962044419e2b17c94d5965)
